(function(t){function e(e){for(var r,i,u=e[0],s=e[1],c=e[2],l=0,f=[];l<u.length;l++)i=u[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={app:0},a=[];function i(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-2d0b725f":"bd28f60d","chunk-2d230c65":"11fd9c63"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=i(t);var c=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}o[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-content",{class:t.background},[n("router-view")],1)],1)},a=[],i={name:"App",data:function(){return{background:"deep-purple",backgroundList:["red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","light-green","amber","orange","blue-grey"]}},watch:{$route:function(){var t=this.getRandomNumber();this.background=this.backgroundList[t]}},methods:{getRandomNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return Math.floor(Math.random()*t)}}},u=i,s=n("2877"),c=n("6544"),l=n.n(c),d=n("7496"),f=n("a75b"),p=Object(s["a"])(u,o,a,!1,null,null,null),v=p.exports;l()(p,{VApp:d["a"],VContent:f["a"]});n("d3b7");var h=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{justify:"center"}},[this.loading?n("v-progress-circular",{attrs:{size:70,width:7,color:"white",indeterminate:""}}):n("v-col",{attrs:{sm:"12",lg:"8",xl:"6"}},[n("books-list",{attrs:{data:t.books},on:{remove:t.deleteBook}})],1)],1)],1)},b=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{"three-line":"",elevation:"24"}},[t._l(t.data,(function(e){return[n("v-list-item",{key:e.ID,on:{click:function(n){return n.stopPropagation(),t.showDetail(e.ID)}}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"font-weight-bold py-4"},[t._v(t._s(e.Title))]),n("div",{staticClass:"text-truncate"},[t._v(t._s(e.Description))]),n("card-footer",{attrs:{data:e}})],1),n("v-list-item-action",[n("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"error",icon:""}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-trash-can-outline")])],1)]}}],null,!0)},[n("v-card",[n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteMenu=!1}}},[t._v("Отмена")]),n("v-btn",{attrs:{text:"",color:"error"},on:{click:function(n){return t.deletePost(e.ID)}}},[t._v("Удалить")])],1)],1)],1),n("v-btn",{attrs:{icon:""}})],1)],1),n("v-divider",{key:"divider-"+e.ID})]}))],2)},k=[],w=n("78a0"),_={name:"BooksList",components:{CardFooter:w["a"]},props:{data:{type:Array,default:function(){return[]}}},data:function(){return{actionLoading:!1,deleteMenu:!1}},methods:{showDetail:function(t){this.$router.push({name:"BookDetail",params:{id:t}})},deletePost:function(t){this.deleteMenu=!1,this.$emit("remove",t)}}},y=_,O=n("8336"),B=n("b0af"),j=n("99d9"),x=n("ce7e"),V=n("132d"),E=n("8860"),L=n("da13"),P=n("1800"),C=n("5d23"),S=n("e449"),R=Object(s["a"])(y,g,k,!1,null,null,null),T=R.exports;l()(R,{VBtn:O["a"],VCard:B["a"],VCardActions:j["a"],VDivider:x["a"],VIcon:V["a"],VList:E["a"],VListItem:L["a"],VListItemAction:P["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VMenu:S["a"]});var D={name:"Home",components:{BooksList:T},data:function(){return{loading:!1}},computed:{books:function(){return this.$store.getters.getBooksList}},created:function(){this.getPosts()},methods:{getPosts:function(){var t=this;this.loading=!0,this.$store.dispatch("fetchBooksList").catch((function(t){console.error(t)})).finally((function(){t.loading=!1}))},deleteBook:function(t){var e=this;this.$store.dispatch("deleteBook",t).catch((function(t){console.error(t)})).finally((function(){e.loading=!1}))}}},I=D,M=n("62ad"),$=n("a523"),A=n("490a"),K=n("0fd9"),z=Object(s["a"])(I,m,b,!1,null,null,null),F=z.exports;l()(z,{VCol:M["a"],VContainer:$["a"],VProgressCircular:A["a"],VRow:K["a"]}),r["a"].use(h["a"]);var H=new h["a"]({mode:"history",routes:[{path:"/",name:"Home",component:F},{path:"/book/:id",name:"BookDetail",component:function(){return n.e("chunk-2d0b725f").then(n.bind(null,"1fd8"))},props:!0},{path:"*",name:"404",component:function(){return n.e("chunk-2d230c65").then(n.bind(null,"ee5d"))}}]}),J=(n("c740"),n("a434"),n("96cf"),n("1da1")),N=n("2f62"),q=n("bc3a"),U=n.n(q);r["a"].use(N["a"]);var G="http://fakerestapi.azurewebsites.net/api/",Q=new N["a"].Store({state:{books:[],book:{},comments:[]},getters:{getBooksList:function(t){return t.books},getBook:function(t){return t.book}},mutations:{SET_BOOKS_LIST:function(t,e){t.books=e},SET_BOOK:function(t,e){t.book=e},REMOVE_BOOK:function(t,e){var n=t.books.findIndex((function(t){return t.ID===e}));t.books[n]&&t.books.splice(n,1)}},actions:{fetchBooksList:function(t){return Object(J["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.abrupt("return",U.a.get(G+"Books").then((function(t){console.log("Response:",t);var e=t.status,r=t.data;if(200!==e)throw new Error("Какая-то ошибка сервера!");n("SET_BOOKS_LIST",r)})));case 2:case"end":return e.stop()}}),e)})))()},fetchBook:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.abrupt("return",U.a.get(G+"Books/"+e).then((function(t){console.log("Response:",t);var e=t.status,n=t.data;if(200!==e)throw new Error("Какая-то ошибка сервера!");r("SET_BOOK",n)})));case 2:case"end":return n.stop()}}),n)})))()},deleteBook:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.abrupt("return",U.a.delete(G+"Books/"+e).then((function(t){console.log("Response:",t);var n=t.status;if(200!==n)throw new Error("Какая-то ошибка сервера!");r("REMOVE_BOOK",e)})));case 2:case"end":return n.stop()}}),n)})))()}}}),W=n("f309");r["a"].use(W["a"]);var X=new W["a"]({}),Y=(n("caad"),n("2532"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date";if(t){var n={};e.includes("date")&&(n.day="2-digit",n.month="2-digit",n.year="numeric"),e.includes("time")&&(n.hour="2-digit",n.minute="2-digit",n.second="2-digit");var r=new Date(t);return new Intl.DateTimeFormat("ru-RU",n).format(r)}});r["a"].filter("date",Y),r["a"].config.productionTip=!1,new r["a"]({router:H,store:Q,vuetify:X,render:function(t){return t(v)}}).$mount("#app")},"78a0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-space-between text--secondary pt-4"},[n("span",[t._v(" Cтраниц: "+t._s(t.data.PageCount)+" ")]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("span",t._g({},r),[t._v(t._s(t._f("date")(t.data.PublishDate,"date")))])]}}])},[n("span",[t._v("Время публикации")])])],1)},o=[],a={props:{data:{type:Object,default:null}}},i=a,u=n("2877"),s=n("6544"),c=n.n(s),l=n("3a2f"),d=Object(u["a"])(i,r,o,!1,null,null,null);e["a"]=d.exports;c()(d,{VTooltip:l["a"]})}});
//# sourceMappingURL=app.54029cd1.js.map